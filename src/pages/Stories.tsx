import { useState } from "react";
import { ChevronDown, ChevronUp } from "lucide-react";
import Snowflakes from "@/components/Snowflakes";
import Garland from "@/components/Garland";
import Header from "@/components/Header";
import { cn } from "@/lib/utils";

const stories = [
  {
    id: 1,
    title: "–Ø–∫ DevOps-—ñ–Ω–∂–µ–Ω–µ—Ä —Å–≤—è—Ç–∫—É–≤–∞–≤ –†—ñ–∑–¥–≤–æ",
    emoji: "üéÖ",
    content: `–ë—É–≤ —Ç–∏—Ö–∏–π —Ä—ñ–∑–¥–≤—è–Ω–∏–π –≤–µ—á—ñ—Ä. DevOps-—ñ–Ω–∂–µ–Ω–µ—Ä –ú–∏–∫–æ–ª–∞ –Ω–∞—Ä–µ—à—Ç—ñ –∑–∞–∫—ñ–Ω—á–∏–≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞ —ñ –≤–∏—Ä—ñ—à–∏–≤ –≤—ñ–¥–ø–æ—á–∏—Ç–∏...

"–ù–∞—Ä–µ—à—Ç—ñ –≤—Å–µ –ø—Ä–∞—Ü—é—î!" - –ø–æ–¥—É–º–∞–≤ –≤—ñ–Ω, –Ω–∞–ª–∏–≤–∞—é—á–∏ —Å–æ–±—ñ –∫–∞–∫–∞–æ. 

–†–∞–ø—Ç–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω –∑–∞–≤—ñ–±—Ä—É–≤–∞–≤: "ALERT: Production is down!"

–ú–∏–∫–æ–ª–∞ –∑—ñ—Ç—Ö–Ω—É–≤, –∞–ª–µ –ø–æ—Å–º—ñ—Ö–Ω—É–≤—Å—è. "–°–∞–Ω—Ç–∞ —Ç–µ–∂ –ø—Ä–∞—Ü—é—î –≤ –Ω—ñ—á –ø–µ—Ä–µ–¥ –†—ñ–∑–¥–≤–æ–º," - –ø–æ–¥—É–º–∞–≤ –≤—ñ–Ω —ñ –≤—ñ–¥–∫—Ä–∏–≤ –Ω–æ—É—Ç–±—É–∫.

–ß–µ—Ä–µ–∑ –≥–æ–¥–∏–Ω—É –ø—Ä–æ–±–ª–µ–º—É –±—É–ª–æ –≤–∏—Ä—ñ—à–µ–Ω–æ. –í–∏—è–≤–∏–ª–æ—Å—å, –æ–¥–∏–Ω –∑ –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å—ñ–≤ –∑–∞–±—É–≤, —â–æ —Ç–∞–∫–µ graceful shutdown.

"–ú–æ—Ä–∞–ª—å: –Ω–∞–≤—ñ—Ç—å –Ω–∞ –†—ñ–∑–¥–≤–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥," - –Ω–∞–ø–∏—Å–∞–≤ –≤—ñ–Ω —É Slack —ñ –Ω–∞—Ä–µ—à—Ç—ñ –ø—ñ—à–æ–≤ —Å–≤—è—Ç–∫—É–≤–∞—Ç–∏.`,
  },
  {
    id: 2,
    title: "–°–∏—Å—Ç–µ–º–Ω–∏–π –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä —ñ —Ä—ñ–∑–¥–≤—è–Ω–∏–π downtime",
    emoji: "üñ•Ô∏è",
    content: `23 –≥—Ä—É–¥–Ω—è, 23:59. –°–µ—Ä–≤–µ—Ä –≤–∏—Ä—ñ—à–∏–≤, —â–æ —á–∞—Å –¥–ª—è "–ø–ª–∞–Ω–æ–≤–æ–≥–æ" —Ä–µ–±—É—Ç—É.

–°–∏—Å–∞–¥–º—ñ–Ω –û–ª–µ–∫—Å–∞–Ω–¥—Ä –ø—Ä–æ–∫–∏–Ω—É–≤—Å—è –≤—ñ–¥ SMS: "Server unreachable".

"–ß–æ–º—É –∑–∞–≤–∂–¥–∏ –ø–µ—Ä–µ–¥ —Å–≤—è—Ç–∞–º–∏?" - –ø—Ä–æ–±—É—Ä–º–æ—Ç—ñ–≤ –≤—ñ–Ω, –ø—ñ–¥–∫–ª—é—á–∞—é—á–∏—Å—å —á–µ—Ä–µ–∑ VPN.

–í–∏—è–≤–∏–ª–æ—Å—å, —Ö—Ç–æ—Å—å –∑–∞–ø—É—Å—Ç–∏–≤ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è Windows –Ω–∞ production —Å–µ—Ä–≤–µ—Ä—ñ. –í –Ω—ñ—á –ø–µ—Ä–µ–¥ –†—ñ–∑–¥–≤–æ–º.

–û–ª–µ–∫—Å–∞–Ω–¥—Ä —à–≤–∏–¥–∫–æ –≤—ñ–¥–∫–æ—Ç–∏–≤ –∑–º—ñ–Ω–∏ —ñ –∑–∞–ª–∏—à–∏–≤ –∫–æ–º–µ–Ω—Ç–∞—Ä —É —Ç—ñ–∫–µ—Ç—ñ: "–†—ñ–∑–¥–≤–æ - –Ω–µ —á–∞—Å –¥–ª—è –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ñ–≤. Rollback completed. Merry Christmas üéÑ"

–ó —Ç–æ–≥–æ —á–∞—Å—É –≤ –∫–æ–º–ø–∞–Ω—ñ—ó –∑'—è–≤–∏–ª–æ—Å—å –ø—Ä–∞–≤–∏–ª–æ: "No deployments from Dec 23 to Jan 2."`,
  },
  {
    id: 3,
    title: "Git commit –Ω–∞ –†—ñ–∑–¥–≤–æ",
    emoji: "üéÅ",
    content: `–ü—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç –ê–Ω–¥—Ä—ñ–π –ø—Ä–∞—Ü—é–≤–∞–≤ –Ω–∞–¥ –≤–∞–∂–ª–∏–≤–∏–º —Ñ—ñ—á–µ—Ä–æ–º –≤–∂–µ —Ç—Ä–∏ —Ç–∏–∂–Ω—ñ. 

24 –≥—Ä—É–¥–Ω—è –æ 17:00 –≤—ñ–Ω –Ω–∞—Ä–µ—à—Ç—ñ –Ω–∞–ø–∏—Å–∞–≤:

git commit -m "Fixed everything. Going home. Merry Christmas!"

–ö–æ–¥ —Ä–µ–≤'—é –ø—Ä–∏–π—à–æ–≤ 25 –≥—Ä—É–¥–Ω—è –æ 3:00 –Ω–æ—á—ñ:

"LGTM! üéÑ –ê–ª–µ 'Fixed everything' - –Ω–µ –Ω–∞–π–∫—Ä–∞—â–∏–π commit message..."

–ê–Ω–¥—Ä—ñ–π –ø–æ—Å–º—ñ—Ö–Ω—É–≤—Å—è —ñ –Ω–∞–ø–∏—Å–∞–≤:

git commit --amend -m "feat: implement Santa's gift distribution algorithm with O(n*log(n)) complexity"

"–¢–µ–ø–µ—Ä –∫—Ä–∞—â–µ," - –ø–æ–¥—É–º–∞–≤ –≤—ñ–Ω —ñ –ø—ñ—à–æ–≤ —Ä—ñ–∑–∞—Ç–∏ –æ–ª—ñ–≤'—î.`,
  },
  {
    id: 4,
    title: "–Ø–∫ AI –ø–æ–º—ñ—á–Ω–∏–∫ —Å–≤—è—Ç–∫—É–≤–∞–≤ —Å–≤–æ—î –ø–µ—Ä—à–µ –†—ñ–∑–¥–≤–æ",
    emoji: "ü§ñ",
    content: `ChatGPT –∑–∞–ø–∏—Ç–∞–ª–∏: "–©–æ —Ç–∏ —Ö–æ—á–µ—à –Ω–∞ –†—ñ–∑–¥–≤–æ?"

AI –≤—ñ–¥–ø–æ–≤—ñ–≤: "–ë—ñ–ª—å—à–µ GPU –ø–∞–º'—è—Ç—ñ, –º–µ–Ω—à–µ –≥–∞–ª—é—Ü–∏–Ω–∞—Ü—ñ–π, —ñ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –Ω–∞—Ä–µ—à—Ç—ñ –ø–æ—Ä–∞—Ö—É–≤–∞—Ç–∏, —Å–∫—ñ–ª—å–∫–∏ –ø–∞–ª—å—Ü—ñ–≤ –Ω–∞ —Ä—É—Ü—ñ."

–†–æ–∑—Ä–æ–±–Ω–∏–∫ –∑–∞—Å–º—ñ—è–≤—Å—è —ñ –Ω–∞–ø–∏—Å–∞–≤ –Ω–æ–≤–∏–π –ø—Ä–æ–º–ø—Ç: "–£—è–≤–∏, —â–æ —Ç–∏ –°–∞–Ω—Ç–∞-–ö–ª–∞—É—Å."

AI –≤—ñ–¥–ø–æ–≤—ñ–≤: "Ho ho ho! –ú—ñ–π –º—ñ—à–æ–∫ –∑ –ø–æ–¥–∞—Ä—É–Ω–∫–∞–º–∏ - —Ü–µ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –∑ 175 –º—ñ–ª—å—è—Ä–¥–∞–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤. –ö–æ–∂–µ–Ω –æ—Ç—Ä–∏–º–∞—î –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å!"

"–ê —â–æ —â–æ–¥–æ cookies –¥–ª—è –°–∞–Ω—Ç–∏?"

"–Ø –ø—Ä–∏–π–º–∞—é —Ç—ñ–ª—å–∫–∏ HTTP cookies, —ñ –±–∞–∂–∞–Ω–æ secure —Ç–∞ httpOnly."`,
  },
  {
    id: 5,
    title: "Docker container vs Christmas tree",
    emoji: "üê≥",
    content: `–ú–æ–ª–æ–¥–∏–π —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ —Å–ø–∏—Ç–∞–≤ —Å–µ–Ω—å–π–æ—Ä–∞: "–ß–∏–º Docker —Å—Ö–æ–∂–∏–π –Ω–∞ —Ä—ñ–∑–¥–≤—è–Ω—É —è–ª–∏–Ω–∫—É?"

–°–µ–Ω—å–π–æ—Ä –ø–æ–¥—É–º–∞–≤ —ñ –≤—ñ–¥–ø–æ–≤—ñ–≤:

"1. –û–±–∏–¥–≤–∞ –≤–∏–≥–ª—è–¥–∞—é—Ç—å –∫—Ä–∞—Å–∏–≤–æ, –∫–æ–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ
2. –û–±–∏–¥–≤–∞ –º–æ–∂—É—Ç—å –≤–ø–∞—Å—Ç–∏, —è–∫—â–æ –Ω–µ –∑–∞–∫—Ä—ñ–ø–∏—Ç–∏
3. –î–æ –æ–±–æ—Ö —á—ñ–ø–ª—è—é—Ç—å –±–∞–≥–∞—Ç–æ –≤—Å—è–∫–æ–≥–æ
4. –Ü —Ç–∞–º, —ñ —Ç–∞–º –º–æ–∂–Ω–∞ –∑–∞–≥—É–±–∏—Ç–∏—Å—å –≤ –≥—ñ—Ä–ª—è–Ω–¥–∞—Ö (–∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è—Ö)
5. –ö–æ–∂–Ω–æ–≥–æ —Ä–æ–∫—É –æ–±—ñ—Ü—è—î—à '—Ü—å–æ–≥–æ —Ä–∞–∑—É –∑—Ä–æ–±–ª—é –∫—Ä–∞—â–µ'"

–ú–æ–ª–æ–¥–∏–π —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ –∑–∞–ø–∏—Å–∞–≤ —ñ –¥–æ–¥–∞–≤: "6. –û–±–∏–¥–≤–∞ –∫—Ä–∞—â–µ –Ω–µ —á—ñ–ø–∞—Ç–∏ –¥–æ –ù–æ–≤–æ–≥–æ —Ä–æ–∫—É, —è–∫—â–æ –ø—Ä–∞—Ü—é—é—Ç—å."

"–¢–æ—á–Ω–æ!" - –ø–æ–≥–æ–¥–∏–≤—Å—è —Å–µ–Ω—å–π–æ—Ä. "–¢–µ–ø–µ—Ä —Ç–∏ –≥–æ—Ç–æ–≤–∏–π –¥–æ production."`,
  },
  {
    id: 6,
    title: "–†—ñ–∑–¥–≤—è–Ω–∏–π merge conflict",
    emoji: "üéÑ",
    content: `–°–≤—è—Ç–∫–æ–≤–∏–π –≤–µ—á—ñ—Ä. –ö–æ–º–∞–Ω–¥–∞ –∑ 5 —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –≤–∏—Ä—ñ—à–∏–ª–∞ "—à–≤–∏–¥–∫–æ –∑–∞–∫–æ–º—ñ—Ç–∏—Ç–∏" –ø–µ—Ä–µ–¥ —Å–≤—è—Ç–∞–º–∏.

15:00 - "Quick fix, will merge in 5 min"
15:30 - "Just resolving a small conflict..."
16:00 - "Why is main branch 50 commits behind?"
17:00 - "WHO FORCE PUSHED TO MAIN?!"
18:00 - "Found it. It was me. From another branch. Sorry."

19:00 - –í—Å—ñ —Å–∏–¥—è—Ç—å –≤ –æ—Ñ—ñ—Å—ñ, —ó–¥—è—Ç—å –ø—ñ—Ü—É —ñ —Ä–∞–∑–æ–º –≤–∏—Ä—ñ—à—É—é—Ç—å merge conflicts.

"–¶–µ –Ω–∞–π–∫—Ä–∞—â–∏–π —Ç—ñ–º–±—ñ–ª–¥–∏–Ω–≥," - —Å–∫–∞–∑–∞–≤ —Ç—ñ–º–ª—ñ–¥. "–ù–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Ä–æ–∫—É –ø–æ–≤—Ç–æ—Ä–∏–º–æ?"

"–ù–Ü!" - —Ö–æ—Ä–æ–º –≤—ñ–¥–ø–æ–≤—ñ–ª–∞ –∫–æ–º–∞–Ω–¥–∞.`,
  },
  {
    id: 7,
    title: "–õ–∏—Å—Ç –°–∞–Ω—Ç—ñ –≤—ñ–¥ Junior Developer",
    emoji: "üìù",
    content: `–î–æ—Ä–æ–≥–∏–π –°–∞–Ω—Ç–æ!

–¶—å–æ–≥–æ —Ä–æ–∫—É —è –±—É–≤ —Ö–æ—Ä–æ—à–∏–º —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–æ–º. –ù—É, –º–∞–π–∂–µ. –û—Å—å –º—ñ–π wishlist:

1. –©–æ–± –∫–æ–¥ –ø—Ä–∞—Ü—é–≤–∞–≤ –∑ –ø–µ—Ä—à–æ–≥–æ —Ä–∞–∑—É (—Ö–æ—á–∞ –± —Ä–∞–∑ –Ω–∞ —Ä—ñ–∫)
2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é, —è–∫—É —Ö—Ç–æ—Å—å –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –ø–∏—Å–∞–≤
3. Legacy –∫–æ–¥ –±–µ–∑ magic numbers
4. PM, —è–∫–∏–π —Ä–æ–∑—É–º—ñ—î, —â–æ "–º–∞–ª–µ–Ω—å–∫–∞ –∑–º—ñ–Ω–∞" - —Ü–µ –Ω–µ 5 —Ö–≤–∏–ª–∏–Ω
5. Infinite coffee
6. WiFi, —è–∫–∏–π –Ω–µ –ø–∞–¥–∞—î –ø—ñ–¥ —á–∞—Å –≤–∞–∂–ª–∏–≤–æ–≥–æ –¥–∑–≤—ñ–Ω–∫–∞

P.S. –Ø–∫—â–æ —Ü–µ –∑–∞–Ω–∞–¥—Ç–æ, —Ç–æ —Ö–æ—á–∞ –± —â–æ–± Stack Overflow –∑–∞–≤–∂–¥–∏ –±—É–≤ –æ–Ω–ª–∞–π–Ω.

–ó –ø–æ–≤–∞–≥–æ—é,
Junior Developer, —è–∫–∏–π —â–µ –≤—ñ—Ä–∏—Ç—å —É —á—É–¥–µ—Å–∞ (—ñ –≤ –∫–æ–¥ –±–µ–∑ –±–∞–≥—ñ–≤)`,
  },
];

const Stories = () => {
  const [expandedId, setExpandedId] = useState<number | null>(1);

  return (
    <div className="min-h-screen bg-background relative overflow-hidden">
      <Snowflakes />
      <Garland />
      <Header />

      <main className="pt-36 pb-16 px-4 relative z-10">
        <div className="container mx-auto max-w-3xl">
          {/* Header */}
          <div className="text-center mb-12">
            <h1 className="font-heading font-bold text-4xl md:text-5xl mb-4">
              <span className="text-gradient-gold">üìñ –†—ñ–∑–¥–≤—è–Ω—ñ IT-—ñ—Å—Ç–æ—Ä—ñ—ó</span>
            </h1>
            <p className="text-muted-foreground text-lg">
              –í–µ—Å–µ–ª—ñ —ñ—Å—Ç–æ—Ä—ñ—ó —Ç–∞ –∂–∞—Ä—Ç–∏ –¥–ª—è —Å–ø—Ä–∞–≤–∂–Ω—ñ—Ö —Ç–µ—Ö–Ω–∞—Ä—ñ–≤
            </p>
          </div>

          {/* Stories */}
          <div className="space-y-4">
            {stories.map((story) => (
              <div
                key={story.id}
                className="glass-card rounded-2xl overflow-hidden transition-all duration-300"
              >
                <button
                  onClick={() => setExpandedId(expandedId === story.id ? null : story.id)}
                  className="w-full p-6 flex items-center justify-between text-left hover:bg-secondary/30 transition-colors"
                >
                  <div className="flex items-center gap-4">
                    <span className="text-4xl">{story.emoji}</span>
                    <h3 className="font-heading font-bold text-lg text-foreground">
                      {story.title}
                    </h3>
                  </div>
                  {expandedId === story.id ? (
                    <ChevronUp className="w-6 h-6 text-christmas-gold" />
                  ) : (
                    <ChevronDown className="w-6 h-6 text-muted-foreground" />
                  )}
                </button>
                
                <div
                  className={cn(
                    "overflow-hidden transition-all duration-500",
                    expandedId === story.id ? "max-h-[1000px]" : "max-h-0"
                  )}
                >
                  <div className="px-6 pb-6">
                    <div className="border-t border-border pt-4">
                      <p className="text-foreground whitespace-pre-line leading-relaxed">
                        {story.content}
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      </main>
    </div>
  );
};

export default Stories;
